@use '../../styles/ne-global-imports' as *;
@use 'sass:math';

.icon-button-grid-wrapper {
	$block: 'icon-button-card';
	
	margin-top: units(9);
	
	ul {
		margin: 0;
		padding: 0;
		list-style: none;
	}

	.#{$block} {
		margin-bottom: units(4);
		
		&:last-child {
			margin-bottom: units(4);
		}
		
		&-group {
			margin-bottom: units(-4);
		}

		&__heading {
			color: color('white');
			font-family: family($theme-font-role-heading);
			font-size: size('body', 'md'); 
			font-weight: font-weight('bold');
			
		}

		&__body {
			$svg-size: px-to-rem(120px);
			height: $svg-size;

			p {

				span {
					display: flex;
					justify-content: center;
				}
				
				svg {
					width: $svg-size;
					height: $svg-size;
					fill: color('primary-lighter')
				}

			}
		}

		&__container {
			@include u-padding(3);
			@include u-radius('md');
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			background-color: color('primary-vivid'); // one-off color
			gap: units(2);
			

			&:has(a) {
				cursor: pointer;

				&:hover { // focus state handled by uswds
					transition: box-shadow $transition-slow, border $transition-slow;
					box-shadow: 0 0 0 3px color(secondary), 0 8px 16px 0 rgb(0 0 0 / 10%); // maps to shadow(3), mixin doesn't work with a custom one

					.#{$block}__heading {
						text-decoration: underline;
						text-decoration-thickness: 2px;
					}
				}
			}

			a {
				position: absolute;
				width: 100%;
				height: 100%;
				text-decoration: none;  
				z-index: 1;             
				inset: 0; // shorthand for top: 0; right: 0; bottom: 0; left: 0;
			}
		}
	}
}

.section {
	&:has(.icon-button-grid-wrapper) {
		position: relative;
		padding: units(15) 0;
		background-color: color('primary-dark');

		&:before {
			position: absolute;
			top: 0;
			bottom: 0;
			left: -100vw;
			width: 200vw;
			height: 100%;
			background-color: color('primary-dark');
			content: '';
			z-index: -1;
		}
		
		h2 {
			color: color('white');
		}
	}
}

main {
	&:has(.side-navigation-container),
	&:has(.in-page-navigation) {
		.section {
			&:has(.icon-button-grid-wrapper) {
				padding: units(15) units(4);

				&:before {
					display: none;
				}
			}
		}
	}
}