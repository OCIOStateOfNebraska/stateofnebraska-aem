var e,t=(e,t)=>{if("string"!=typeof e)return[];var n;t&&(n=t)&&"object"==typeof n&&1===n.nodeType||(t=window.document);const r=t.querySelectorAll(e);return Array.prototype.slice.call(r)},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,i,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in a=Object(arguments[s]))r.call(a,l)&&(c[l]=a[l]);if(n){i=n(a);for(var u=0;u<i.length;u++)o.call(a,i[u])&&(c[i[u]]=a[i[u]])}}return c};"function"!=typeof(e=window.Element.prototype).matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),r=0;n[r]&&n[r]!==t;)++r;return Boolean(n[r])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null});var i=function(e,t){return function(n){var r=n.target.closest(e);if(r)return t.call(r,n)}},c=function(e){const t=Object.keys(e);if(1===t.length&&"*"===t[0])return e["*"];const n=t.reduce(function(t,n){return t.push(i(n,e[n])),t},[]);return r=n,function(e){return r.some(function(t){return!1===t.call(this,e)},this)};var r};const s=/^(.+):delegate\((.+)\)$/;var l=function(e,t){var n=e[t];return delete e[t],n},u=function(e,t){const n=Object.keys(e).reduce(function(t,n){var r=function(e,t){var n,r,o=e.match(s);o&&(e=o[1],n=o[2]),"object"==typeof t&&(r={capture:l(t,"capture"),passive:l(t,"passive")});var u={selector:n,delegate:"object"==typeof t?c(t):n?i(n,t):t,options:r};return e.indexOf(" ")>-1?e.split(" ").map(function(e){return a({type:e},u)}):(u.type=e,[u])}(n,e[n]);return t.concat(r)},[]);return a({add:function(e){n.forEach(function(t){e.addEventListener(t.type,t.delegate,t.options)})},remove:function(e){n.forEach(function(t){e.removeEventListener(t.type,t.delegate,t.options)})}},t)};const d=(...e)=>function(t=document.body){e.forEach(e=>{"function"==typeof this[e]&&this[e].call(this,t)})};var f=(e,t)=>u(e,{on:d("init","add"),off:d("teardown","remove"),...t});const p="aria-expanded",h="hidden";var y=(e,t)=>{let n=t;"boolean"!=typeof n&&(n="false"===e.getAttribute(p)),e.setAttribute(p,n);const r=e.getAttribute("aria-controls"),o=document.getElementById(r);if(!o)throw new Error(`No toggle target found with id: "${r}"`);return n?o.removeAttribute(h):o.setAttribute(h,""),n},m={CLICK:"click"},g={prefix:"usa"};const{CLICK:b}=m,{prefix:v}=g,w=`.${v}-accordion, .${v}-accordion--bordered`,E=`.${v}-accordion__button[aria-controls]:not(.${v}-banner__button)`,$="aria-expanded",C=e=>t(E,e).filter(t=>t.closest(w)===e),S=(e,t)=>{const n=e.closest(w);let r=t;if(!n)throw new Error(`${E} is missing outer ${w}`);r=y(e,t);const o=n.hasAttribute("data-allow-multiple");r&&!o&&C(n).forEach(t=>{t!==e&&y(t,!1)})};var A=f({[b]:{[E](){S(this),"true"===this.getAttribute($)&&(function(e,t=window,n=document.documentElement){const r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(t.innerHeight||n.clientHeight)&&r.right<=(t.innerWidth||n.clientWidth)}(this)||this.scrollIntoView())}}},{init(e){t(E,e).forEach(e=>{const t="true"===e.getAttribute($);S(e,t)})},ACCORDION:w,BUTTON:E,show:e=>S(e,!0),hide:e=>S(e,!1),toggle:S,getButtons:C});function L(e){var t={exports:{}};return e(t,t.exports),t.exports}L(function(e,t){!function(){var t,n={polyfill:function(){if(!("KeyboardEvent"in window)||"key"in KeyboardEvent.prototype)return!1;var e={get:function(e){var t=n.keys[this.which||this.keyCode];return Array.isArray(t)&&(t=t[+this.shiftKey]),t}};return Object.defineProperty(KeyboardEvent.prototype,"key",e),e},keys:{3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"}};for(t=1;t<25;t++)n.keys[111+t]="F"+t;var r="";for(t=65;t<91;t++)r=String.fromCharCode(t),n.keys[t]=[r.toLowerCase(),r.toUpperCase()];e.exports=n}()});const x={Alt:"altKey",Control:"ctrlKey",Ctrl:"ctrlKey",Shift:"shiftKey"};var O=function(e){const t=Object.keys(e).some(function(e){return e.indexOf("+")>-1});return function(n){var r=function(e,t){var n=e.key;if(t)for(var r in x)!0===e[x[r]]&&(n=[r,n].join("+"));return n}(n,t);return[r,r.toLowerCase()].reduce(function(t,o){return o in e&&(t=e[r].call(this,n)),t},void 0)}};O.MODIFIERS=x;var T=L(function(e){var t;e.exports=(t={_entity:/[&<>"'/]/g,_entities:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#x2F;"},getEntity:function(e){return t._entities[e]},escapeHTML:function(e){for(var n="",r=0;r<e.length;r++)n+=e[r],r+1<arguments.length&&(n+=String(arguments[r+1]||"").replace(t._entity,t.getEntity));return n},createSafeHTML:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return{__html:t.escapeHTML.apply(t,[e].concat(r)),toString:function(){return"[object WrappedHTMLObject]"},info:"This is a wrapped HTML object. See https://developer.mozilla.org/en-US/Firefox_OS/Security/Security_Automation for more."}},unwrapSafeHTML:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return e.__html}).join("")}},t)});const{prefix:_}=g,{CLICK:j}=m,k=`${_}-current`,M=["h1","h2","h3","h4","h5","h6"],I=`${_}-in-page-nav`,q=`${_}-anchor`,N=`${I}__nav`,H=`${I}__list`,P=`${I}__item`,B=`${P}--primary`,D=`${I}__link`,K=`${I}__heading`,R=e=>{const t=document.querySelectorAll(`.${D}`);e.map(e=>!0===e.isIntersecting&&e.intersectionRatio>=1&&(t.forEach(e=>e.classList.remove(k)),document.querySelector(`a[href="#${e.target.id}"]`).classList.add(k),!0))},V=e=>{const t=document.querySelector(`.${I}`);window.scroll({behavior:"smooth",top:e.offsetTop-(t.dataset.scrollOffset||0),block:"start"}),window.location.hash.slice(1)!==e.id&&window.history.pushState(null,"",`#${e.id}`)};var U=f({[j]:{[`.${D}`](e){e.preventDefault(),this.disabled||(()=>{const e=document.getElementById(this.hash.slice(1));V(e)})()}},keydown:{[`.${D}`]:O({Enter:e=>{const t=(e=>{let t;return t=e&&1===e.nodeType?e.getAttribute("href").replace("#",""):e.target.hash.replace("#",""),t})(e),n=document.getElementById(t),r=n.parentElement;var o,a;r&&(r.setAttribute("tabindex",0),r.focus(),r.addEventListener("blur",(o=()=>{r.setAttribute("tabindex",-1)},a=function(e){return e.currentTarget.removeEventListener(e.type,a,void 0),o.call(this,e)}))),V(n)}})}},{init(e){((e,n)=>{const r=t(e,n);return"string"!=typeof e||(o=n)&&"object"==typeof o&&1===o.nodeType&&n.matches(e)&&r.push(n),r;var o})(`.${I}`,e).forEach(e=>{(e=>{const t=T.escapeHTML`${e.dataset.titleText||"On this page"}`,n=T.escapeHTML`${e.dataset.titleHeadingLevel||"h4"}`,r={root:null,rootMargin:T.escapeHTML`${e.dataset.rootMargin||"0px 0px 0px 0px"}`,threshold:[T.escapeHTML`${e.dataset.threshold||"1"}`]},o=((e,t)=>{const n=((e,t)=>{const n=t.indexOf(" ")?t.split(" "):t,r=document.querySelector(e);return n.forEach(e=>{if(!M.includes(e))throw new Error(`In-page navigation: data-heading-elements attribute defined with an invalid heading type: "${e}".\n        Define the attribute with one or more of the following: "${M}".\n        Do not use commas or other punctuation in the attribute definition.`)}),Array.from(r.querySelectorAll(n))})(e,t);return n.filter(e=>{const t=window.getComputedStyle(e);return"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")})})(T.escapeHTML`${e.dataset.mainContentSelector||"main"}`,T.escapeHTML`${e.dataset.headingElements||"h2 h3"}`),a=document.createElement("nav");a.setAttribute("aria-label",t),a.classList.add(N);const i=document.createElement(n);i.classList.add(K),i.setAttribute("tabindex","0"),i.textContent=t,a.appendChild(i);const c=document.createElement("ul");c.classList.add(H),a.appendChild(c),o.forEach(e=>{const t=document.createElement("li"),n=document.createElement("a"),r=document.createElement("a"),a=e.textContent,i=e.tagName.toLowerCase(),s=(e=>e[0].tagName.toLowerCase())(o),l=(e=>{const t=e.textContent.toLowerCase().replace(/[^a-z\d]/g,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"");let n,r=0;do{n=t,r+=1,r>1&&(n+=`-${r}`)}while(document.getElementById(n));return n})(e);t.classList.add(P),i===s&&t.classList.add(B),n.setAttribute("href",`#${l}`),n.setAttribute("class",D),n.textContent=a,r.setAttribute("id",l),r.setAttribute("class",q),e.insertAdjacentElement("afterbegin",r),c.appendChild(t),t.appendChild(n)}),e.appendChild(a);const s=document.querySelectorAll(`.${q}`),l=new window.IntersectionObserver(R,r);s.forEach(e=>{l.observe(e)})})(e),(()=>{const e=window.location.hash.slice(1);if(e){const t=document.getElementById(e);t&&V(t)}})()})}}),z={behavior:u,delegate:i,delegateAll:c,ignore:function(e,t){return function(n){if(e!==n.target&&!e.contains(n.target))return t.call(this,n)}},keymap:O},W=(e=document)=>e.activeElement;const{keymap:F}=z;var G=(e,n={})=>{const r=(e=>{const n=t('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',e),r=n[0],o=n[n.length-1];return{firstTabStop:r,lastTabStop:o,tabAhead:function(e){W()===o&&(e.preventDefault(),r.focus())},tabBack:function(e){W()===r?(e.preventDefault(),o.focus()):n.includes(W())||(e.preventDefault(),r.focus())}}})(e),o=n,{Esc:a,Escape:i}=o;i&&!a&&(o.Esc=i);const c=F({Tab:r.tabAhead,"Shift+Tab":r.tabBack,...n}),s=f({keydown:c},{init(){r.firstTabStop&&r.firstTabStop.focus()},update(e){e?this.on():this.off()}});return s};const{CLICK:Y}=m,{prefix:Z}=g,J="body",Q=`.${Z}-header`,X=`.${Z}-nav`,ee=`.${Z}-nav-container`,te=`.${Z}-nav__primary`,ne=`.${Z}-nav__primary-item`,re=`button.${Z}-nav__link`,oe=`${X} a`,ae="data-nav-hidden",ie=`.${Z}-menu-btn`,ce=`.${Z}-nav__close`,se=`${ce}, .${Z}-overlay`,le=[X,`.${Z}-overlay`].join(", "),ue=`body *:not(${Q}, ${ee}, ${X}, ${X} *):not([aria-hidden])`,de=`[${ae}]`,fe="usa-js-mobile-nav--active";let pe,he,ye;const me=()=>document.body.classList.contains(fe),ge=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),be=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth+"px";return e.parentNode.removeChild(e),n}(),ve=window.getComputedStyle(document.body).getPropertyValue("padding-right"),we=`${parseInt(ve.replace(/px/,""),10)+parseInt(be.replace(/px/,""),10)}px`,Ee=e=>{const{body:n}=document,r="boolean"==typeof e?e:!me();(e=>{const t=`-${window.scrollY}px`;ge&&e.style.setProperty("--scrolltop",t)})(n),n.classList.toggle(fe,r),t(le).forEach(e=>e.classList.toggle("is-visible",r)),pe.focusTrap.update(r);const o=n.querySelector(ce),a=document.querySelector(ie);return n.style.paddingRight=n.style.paddingRight===we?ve:we,(e=>{e?(()=>{const e=document.querySelector(`${Q}`).parentNode;ye=document.querySelectorAll(ue),ye.forEach(t=>{t!==e&&(t.setAttribute("aria-hidden",!0),t.setAttribute(ae,""))})})():(ye=document.querySelectorAll(de),ye&&ye.forEach(e=>{e.removeAttribute("aria-hidden"),e.removeAttribute(ae)}))})(r),r&&o?o.focus():!r&&a&&"none"!==getComputedStyle(a).display&&a.focus(),r},$e=()=>{const e=document.body.querySelector(ce);me()&&e&&0===e.getBoundingClientRect().width&&pe.toggleNav.call(e,!1)},Ce=()=>pe.toggleNav.call(pe,!1),Se=()=>{he&&(y(he,!1),he=null)};pe=f({[Y]:{[re](){return he!==this&&Se(),he||(he=this,y(he,!0)),!1},[J]:Se,[ie]:Ee,[se]:Ee,[oe](){const e=this.closest(A.ACCORDION);e&&A.getButtons(e).forEach(e=>A.hide(e)),me()&&pe.toggleNav.call(pe,!1)}},keydown:{[te]:O({Escape:e=>{Se(),(e=>{const t=e.target.closest(ne);if(!e.target.matches(re)){const e=t.querySelector(re);e&&e.focus()}})(e)}})},focusout:{[te](e){e.target.closest(te).contains(e.relatedTarget)||Se()}}},{init(e){const t=e.matches(X)?e:e.querySelector(X);t&&(pe.focusTrap=G(t,{Escape:Ce})),ge&&document.body.classList.add("is-safari"),$e(),window.addEventListener("resize",$e,!1)},teardown(){window.removeEventListener("resize",$e,!1),he=!1},focusTrap:null,toggleNav:Ee});var Ae=pe;export{A as accordion,Ae as header,U as inPageNavigation};
